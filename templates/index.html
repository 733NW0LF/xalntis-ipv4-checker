<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xlantis IPv4 Checker - Free IP Lookup Tool</title>
    <meta name="description" content="Check your IPv4 address instantly with Xlantis IPv4 Checker. Free, fast, and simple IP lookup tool.">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body{
            background-image: url("{{ url_for('static', filename='images/logo-2.png') }}");
            background-position:center;
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
</head>
<div class="flex flex-col items-center justify-center min-h-screen">
    <div class="bg-white shadow-lg rounded-2xl p-6 text-center" style="background-color: rgba(255, 255, 255, 0.5);">
        <h1 class="text-2xl font-bold mb-4">Get Your IP Information</h1>
        <button id="fetchBtn" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
            Fetch IP Information
        </button>
        <div id="ipInfo" class="mt-4 text-lg text-gray-700"></div>
        <button id="copyBtn" class="bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600 mt-2" style="display:none;">
            Copy IP
        </button>
    </div>
</div>
<script>
    document.getElementById('fetchBtn').addEventListener('click', async () => {
        const ipInfoDiv = document.getElementById('ipInfo');
        const copyBtn = document.getElementById('copyBtn');
        try {
            const response = await fetch('/get_ip_info');
            const data = await response.json();
            
            if (data.error) {
                ipInfoDiv.innerHTML = `<p class="text-red-500">${data.error}</p>`;
                copyBtn.style.display = 'none';
            } else {
                ipInfoDiv.innerHTML = `
                    <p><strong>IP Address:</strong> <span id="ipValue">${data.ip}</span></p>
                    <p><strong>ISP:</strong> ${data.isp}</p>
                    <p><strong>City:</strong> ${data.city}</p>
                    <p><strong>Region:</strong> ${data.region}</p>
                    <p><strong>Country:</strong> ${data.country}</p>
                `;
                copyBtn.style.display = 'inline-block';
            }
        } catch (error) {
            ipInfoDiv.innerHTML = '<p class="text-red-500">Error fetching IP information</p>';
            copyBtn.style.display = 'none';
        }
    });

    document.getElementById('copyBtn').addEventListener('click', () => {
        const ip = document.getElementById('ipValue')?.textContent;
        if (ip) {
            navigator.clipboard.writeText(ip);
        }
    });
</script>
</body>
</html>
